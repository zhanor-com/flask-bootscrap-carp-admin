<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>&#x622a;&#x56fe;&#xff1a;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <p>zhanor(æ ˆé±¼)æ˜¯åŸºäºflask 2.0æ¡†æ¶å¼€å‘çš„ä¸€ä¸ªé€šç”¨åå°ç®¡ç†ç³»ç»Ÿï¼Œæ•°æ®åº“åŠåå°çš„åŠŸèƒ½å‚è€ƒäº†å›½å†…çš„fastadminã€‚å¼€å‘æ­¤ç³»ç»Ÿä¸»è¦æ˜¯å› ä¸ºæ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªå¥½ç”¨çš„ã€pythonç‰ˆçš„UIå¥½çœ‹ä¸€ç‚¹çš„é€šç”¨åå°ç³»ç»Ÿï¼Œè¿‘æœŸäººå·¥æ™ºèƒ½çš„é¡¹ç›®è¾ƒå¤šï¼Œå¤§å¤šéƒ½æ˜¯pythonï¼Œæ€¥åˆ‡çš„éœ€è¦ä¸€ä¸ªpythonç‰ˆçš„åå°åšæ”¯æŒã€‚</p>
<p>æ ˆé±¼çš„æ¥å†ï¼Œä½œè€…æ˜¯ä¸€åªåšå…¨æ ˆå¼€å‘çš„é±¼ã€‚å¼€å‘åº”è¯¥æ˜¯çƒ­çˆ±çš„äººåšè‡ªç”±çš„äº‹ã€‚</p>
<hr>
<h2 id="æˆªå›¾">æˆªå›¾ï¼š</h2>
<table>
<thead>
<tr>
<th><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/admin.png" alt="Example Image"></th>
<th><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/dashboard.png" alt="Example Image"></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/general_category_add.png" alt="Example Image"></td>
<td><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/general_category.png" alt="Example Image"></td>
</tr>
<tr>
<td><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/general_config.png" alt="Example Image"></td>
<td><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/generator.png" alt="Example Image"></td>
</tr>
<tr>
<td><img src="file:////Volumes/Python/Projects/flask-bootscrap-carp-admin/screen_shot/profile.png" alt="Example Image"></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="é¡µé¢åŠŸèƒ½">é¡µé¢åŠŸèƒ½</h2>
<pre><code>Dashboard
Generals
â”œ Profile
    â”” Save
â”œ Category
â”” Config
    â”œ Add
    â”œ Save
    â”œ Delete
    â”” Table List
Attachment
â”” Attachment File
    â”œ Add
    â”œ Edit
    â”œ Save
    â”” Delete
Plugin
â”œ Update state
â”œ Setting
â”œ Refresh
â”œ Multi
â”œ Install
â”œ Uninstall
â”œ Update status
â”” Download
Admin
â”œ Admin Manage
â”œ Admin Group
    â”œ Add
    â”œ Edit
    â”œ Save
    â”” Delete
â”œ Admin Rule
â”” Admin Log
â”” Delete
User Manage
â”œ User Manage
    â”œ Add
    â”œ Edit
    â”œ Save
    â”” Del
â”œ User Rule
â”œ User Balance Log
    â”” Del
â”œ User Score Log
    â”” Del
â”” User Group
    â”œ Add
    â”œ Edit
    â”œ Save
    â”” Del
Addon
    â”œ Add
    â”œ Edit
    â”œ Save
    â”” Del
</code></pre>
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p>é€‰æ‹©flaskçš„åŸå› ï¼šå¾®æ¡†æ¶ï¼Œå¼€å‘é€Ÿåº¦éå¸¸å¿«ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£å’ŒåŸå‹è®¾è®¡ã€‚</p>
<p>å¤§éƒ¨åˆ†ä»£ç å€ŸåŠ©äº†chatGPTå¼€å‘</p>
<p>æ¡†æ¶ï¼šflask</p>
<p>æ¨¡ç‰ˆï¼šjinja2</p>
<p>å‰ç«¯ï¼šåŸºäºbootscrapçš„tablerUIåº“+jQuery</p>
<p>æ—¶é—´é€‰æ‹©å™¨ï¼šflatpickr 4.6.13</p>
<p>toastï¼štoastr.js 2.1.4</p>
<p>å›¾æ ‡åº“ï¼štabler-icons</p>
<p>ç²˜è´´æ¿ï¼šclipboard.js 2.0.11</p>
<p>jqueryï¼šjquery 3.7.1</p>
<p>è¡¨å•éªŒè¯ï¼šjquery-validate 1.19.5</p>
<h2 id="å…¶ä»–æ›´æ–°ä¸­">å…¶ä»–æ›´æ–°ä¸­...</h2>
<h2 id="å¼€å‘è¿›åº¦">å¼€å‘è¿›åº¦ï¼š</h2>
<p>åå°åŠŸèƒ½åŸºæœ¬å®Œæˆï¼Œå‰ç«¯ä¼šå‘˜ä¸­å¿ƒåŸºæœ¬å®Œæˆï¼Œä»£ç ä¼˜åŒ–ä¸­...</p>
<p>å¸¸ç”¨æ’ä»¶å¼€å‘ä¸­</p>
<hr>
<h2 id="å·²æœ‰æ’ä»¶">å·²æœ‰æ’ä»¶:</h2>
<hr>
<p>1ã€<a href='https://github.com/zhanor-com/generator-plugin-for-zhanor-admin' target="_blank">ä»£ç ç”Ÿæˆå™¨</a>ï¼Œå¯ä»¥æ ¹æ®è®¾è®¡å¥½çš„æ•°æ®è¡¨è‡ªåŠ¨ç”Ÿæˆmodelï¼Œæ¨¡ç‰ˆï¼Œviewsï¼Œè¿˜æœ‰å¯¹åº”çš„jsæ–‡ä»¶ï¼Œæ•°æ®è¡¨çš„CRUDåŠŸèƒ½å°±æœ‰äº†ï¼ŒåŒæ—¶æ”¯æŒç”Ÿæˆæ¥å£ï¼ŒæŒ‰è¡¨å­—æ®µè®¾å®šç”Ÿæˆæ¥å£æ–‡æ¡£ï¼Œç›®å‰ä½¿ç”¨çš„æ¥å£æ˜¯flask_restfulã€‚</p>
<p>2ã€<a href='https://github.com/zhanor-com/third-payment-plugin-for-zhanor-admin' target="_blank">ç¬¬ä¸‰æ–¹æ”¯ä»˜æ’ä»¶</a>ï¼Œæ”¯æŒåˆ°å¾®ä¿¡å’Œæ”¯ä»˜å®æ”¯ä»˜</p>
<p>3ã€vipæ’ä»¶ï¼Œåœ¨çº¿è´­ä¹°vipæ’ä»¶ã€‚</p>
<p>4ã€webå»ºç«™æ’ä»¶ï¼Œå¿«é€Ÿå»ºç«‹ä¸€ä¸ªä¼ä¸šç«™ã€‚</p>
<p>ä»¥ä¸Š4ä¸ªæ’ä»¶åŸºæœ¬å°±å¯ä»¥æ»¡è¶³æ­å»ºä¸€ä¸ªçµæ´»åº¦å¾ˆé«˜çš„åå°ç³»ç»Ÿäº†ï¼Œflaskä¼˜è´¨çš„æ’ä»¶åŠŸèƒ½ï¼Œéå¸¸é€‚åˆå¤§å‹é¡¹ç›®ã€‚</p>
<p>å¼€å‘ä¸­çš„æ’ä»¶ï¼šæå…‰è®¤è¯ï¼Œä¼šå‘˜å……å€¼æ’ä»¶ï¼Œblogæ’ä»¶ï¼Œå•†åŸæ’ä»¶</p>
<hr>
<h2 id="getting-startedå®‰è£…å¦‚ä¸‹æ­¥éª¤">Getting Startedï¼ˆå®‰è£…å¦‚ä¸‹æ­¥éª¤ï¼‰</h2>
<p>å¦‚æœæ‚¨è¿˜æœªåˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„é¡¹ç›®ç›®å½•ï¼Œè¯·è¿›å…¥è¯¥ç›®å½•ã€‚å½“å‰å·¥ä½œç›®å½•åº”å½“ä¸æœ¬ README.txt æ–‡ä»¶å’Œ <a href="http://setup.py">setup.py</a> æ–‡ä»¶æ‰€åœ¨ç›®å½•ç›¸åŒã€‚</p>
<h2 id="å®‰è£…æ­¥éª¤ä»¥ubuntuç³»ç»Ÿä¸ºä¾‹å…¶ä»–ç³»ç»Ÿå‚ç…§ä¸‹é¢çš„ä¸åœ¨è‡ªè¡Œå˜é€š">ğŸ“–å®‰è£…æ­¥éª¤(ä»¥Ubuntuç³»ç»Ÿä¸ºä¾‹ï¼Œå…¶ä»–ç³»ç»Ÿå‚ç…§ä¸‹é¢çš„ä¸åœ¨è‡ªè¡Œå˜é€š)ï¼š</h2>
<h3 id="1å®‰è£…">1ã€å®‰è£…</h3>
<p>å®‰è£… SQLite3 åŠå…¶å¼€å‘åŒ…ï¼š</p>
<pre><code>sudo apt-get install libsqlite3-dev

</code></pre>
<p>å…‹éš†ï¼š</p>
<pre><code>git clone https://github.com/zhanor-com/flask-bootscrap-carp-admin.git
</code></pre>
<p>è¿›å…¥ç›®å½•</p>
<pre><code>cd flask-bootscrap-carp-admin
</code></pre>
<h3 id="2å¦‚æœå°šæœªåˆ›å»ºè¯·åˆ›å»ºä¸€ä¸ª-python-è™šæ‹Ÿç¯å¢ƒåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ">2ã€å¦‚æœå°šæœªåˆ›å»ºï¼Œè¯·åˆ›å»ºä¸€ä¸ª Python è™šæ‹Ÿç¯å¢ƒï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š</h3>
<pre><code>python3 -m venv .venv
. .venv/bin/activate

</code></pre>
<p>Windows å‘½ä»¤:</p>
<pre><code>py -3 -m venv .venv
.venv\Scripts\activate.bat

</code></pre>
<h3 id="3æ›´æ–°-pip-å’Œ-setuptools-å·¥å…·">3ã€æ›´æ–° pip å’Œ setuptools å·¥å…·ï¼š</h3>
<pre><code>pip install --upgrade pip setuptools
</code></pre>
<h3 id="4ä½¿ç”¨åŒ…å«æµ‹è¯•ä¾èµ–é¡¹çš„æ–¹å¼ä»¥å¯ç¼–è¾‘æ¨¡å¼å®‰è£…é¡¹ç›®">4ã€ä½¿ç”¨åŒ…å«æµ‹è¯•ä¾èµ–é¡¹çš„æ–¹å¼ï¼Œä»¥å¯ç¼–è¾‘æ¨¡å¼å®‰è£…é¡¹ç›®ã€‚</h3>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code>pip install -r requirements.txt
</code></pre>
<pre><code>å¦‚å‡ºç°é”™è¯¯ï¼š

Can not find valid pkg-config name. Specify MYSQLCLIENT_CFLAGS and MYSQLCLIENT_LDFLAGS env vars manually [end of output]

å¯¹äºUbuntu/Debianç³»Linuxï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…MySQLå¼€å‘åº“ï¼š

```
sudo apt-get update
```

```
sudo apt-get install libmysqlclient-dev

```

å¯¹äºCentOSéœ€æ‰§è¡Œï¼š

```
sudo dnf install mysql-devel

```
</code></pre>
<h3 id="5ä½¿ç”¨-alembic-åˆå§‹åŒ–å¹¶å‡çº§æ•°æ®åº“ç”Ÿæˆé¦–ä¸ªä¿®è®¢ç‰ˆæœ¬">5ã€ä½¿ç”¨ Alembic åˆå§‹åŒ–å¹¶å‡çº§æ•°æ®åº“ï¼Œç”Ÿæˆé¦–ä¸ªä¿®è®¢ç‰ˆæœ¬ã€‚</h3>
<p>æ‰§è¡Œè¿™ä¸€æ­¥ä¹‹å‰ï¼Œéœ€é…ç½®å¥½ æ ¹ç›®å½•ä¸‹çš„ alembic.ini æ–‡ä»¶çš„63è¡Œå’Œæ ¹ç›®å½•ä¸‹é¢ <a href="http://config.py">config.py</a> æ–‡ä»¶ä¸­çš„20è¡Œçš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š</p>
<p>sqlalchemy.url = mysql://root:12345678@localhost:3306/zhanor_1.0.5?charset=utf8mb4</p>
<h3 id="6æ‰§è¡Œæ•°æ®åº“è¿ç§»">6ã€æ‰§è¡Œæ•°æ®åº“è¿ç§»ï¼š</h3>
<h4 id="æ•°æ®åº“è¿ç§»æ–¹æ³•">æ•°æ®åº“è¿ç§»æ–¹æ³•</h4>
<pre><code>alembic current
alembic revision --autogenerate -m &quot;update&quot;
alembic upgrade head
</code></pre>
<h4 id="é‡ç½®æ•°æ®åº“è¿ç§»æ–¹æ³•">é‡ç½®æ•°æ®åº“è¿ç§»æ–¹æ³•</h4>
<p>åˆ é™¤ç°æœ‰è¿ç§»æ–‡ä»¶ï¼š</p>
<pre><code>rm -rf alembic/versions/*
</code></pre>
<p>åˆå§‹åŒ–æ–°çš„è¿ç§»ï¼š</p>
<pre><code>alembic revision --autogenerate -m &quot;initial migration&quot;
</code></pre>
<p>åº”ç”¨è¿ç§»ï¼š</p>
<pre><code>alembic upgrade head
</code></pre>
<h2 id="æ³¨æ„æ³¨æ„æ³¨æ„">æ³¨æ„!!æ³¨æ„!!æ³¨æ„!!</h2>
<p>å¦‚æœæ’ä»¶ä¸­åŒ…å«modelsæ–‡ä»¶å¤¹ï¼Œä¹Ÿä¼šæœç´¢æ¨¡å‹æ–‡ä»¶è‡ªåŠ¨å¼•å…¥</p>
<h3 id="7ä½¿ç”¨è„šæœ¬å°†é»˜è®¤æ•°æ®åŠ è½½åˆ°æ•°æ®åº“ä¸­">7ã€ä½¿ç”¨è„šæœ¬å°†é»˜è®¤æ•°æ®åŠ è½½åˆ°æ•°æ®åº“ä¸­ã€‚</h3>
<p>åŠ è½½é»˜è®¤æ•°æ®è‡³æ•°æ®åº“ï¼š</p>
<pre><code>python3 initialize_db.py
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ ¹ç›®å½•ä¸‹çš„.sqlæ–‡ä»¶ç›´æ¥å¯¼å…¥é»˜è®¤æ•°æ®</p>
<h3 id="8è¿è¡Œé¡¹ç›®çš„æµ‹è¯•">8ã€è¿è¡Œé¡¹ç›®çš„æµ‹è¯•ã€‚</h3>
<p>æ‰§è¡Œæµ‹è¯•ï¼š</p>
<pre><code> 
</code></pre>
<h3 id="9è¿è¡Œé¡¹ç›®">9ã€è¿è¡Œé¡¹ç›®ã€‚</h3>
<p>å¯åŠ¨é¡¹ç›®æœåŠ¡ï¼š</p>
<pre><code>flask --app main run --debug 

</code></pre>
<p>æˆ–</p>
<pre><code>python3 main.py

</code></pre>
<p>gunicornå¯åŠ¨å‘½ä»¤ï¼š</p>
<pre><code>


</code></pre>
<p>æœªå®‰è£…gunicornï¼Œåˆ™éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code> .venv/bin/pip install gunicorn
</code></pre>
<p>å¯åŠ¨åé»˜è®¤è®¿é—®åœ°å€ï¼š<a href="http://127.0.0.1:5001">http://127.0.0.1:5001</a></p>
<p>Swaggeråœ°å€ï¼š<a href="http://127.0.0.1:5001/apidocs/">http://127.0.0.1:5001/apidocs/</a></p>
<p>åå°åœ°å€ï¼š<a href="http://127.0.0.1:5001/admin">http://127.0.0.1:5001/admin</a></p>
<p>é»˜è®¤ç”¨æˆ·åï¼šadmin@admin.com</p>
<p>é»˜è®¤å¯†ç ï¼š88888888</p>
<h3 id="10è¿›å…¥ç”Ÿäº§ç¯å¢ƒ">10ã€è¿›å…¥ç”Ÿäº§ç¯å¢ƒ</h3>
<p>NginxæœåŠ¡å™¨åå‘ä»£ç é…ç½®å®ä¾‹ï¼š</p>
<pre><code>server
{
    listen 80;
    server_name admin.zhanor.com;
    index index.html index.htm default.htm default.html;
    root /www/python_venv/zhanor/__init__.py;

    #SSL-START SSLç›¸å…³é…ç½®
    #error_page 404/404.html;
    
    #SSL-END

    #ERROR-PAGE-START  é”™è¯¯é¡µç›¸å…³é…ç½®
    #error_page 404 /404.html;
    #error_page 502 /502.html;
    #ERROR-PAGE-END


    #REWRITE-START ä¼ªé™æ€ç›¸å…³é…ç½®
    include /www/server/panel/vhost/rewrite/other___init___py.conf;
    #REWRITE-END

    #ç¦æ­¢è®¿é—®çš„æ–‡ä»¶æˆ–ç›®å½•
    location ~ ^/(\.user.ini|\.htaccess|\.git|\.svn|\.project|LICENSE|README.md|package.json|package-lock.json|\.env) {
        return 404;
    }

    #ä¸€é”®ç”³è¯·SSLè¯ä¹¦éªŒè¯ç›®å½•ç›¸å…³è®¾ç½®
    location /.well-known/ {
        root /www/wwwroot/java_node_ssl;
    }

    #ç¦æ­¢åœ¨è¯ä¹¦éªŒè¯ç›®å½•æ”¾å…¥æ•æ„Ÿæ–‡ä»¶
    if ( $uri ~ &quot;^/\.well-known/.*\.(php|jsp|py|js|css|lua|ts|go|zip|tar\.gz|rar|7z|sql|bak)$&quot; ) {
        return 403;
    }


    # HTTPåå‘ä»£ç†ç›¸å…³é…ç½®å¼€å§‹ &gt;&gt;&gt;
    location ~ /purge(/.*) {
        proxy_cache_purge cache_one 0.0.0.0$request_uri$is_args$args;
    }

    location / {
        proxy_pass http://0.0.0.0:5001;
        proxy_set_header Host admin.zhanor.com:$server_port;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header REMOTE-HOST $remote_addr;
        add_header X-Cache $upstream_cache_status;
        proxy_set_header X-Host $host:$server_port;
        proxy_set_header X-Scheme $scheme;
        proxy_connect_timeout 30s;
        proxy_read_timeout 86400s;
        proxy_send_timeout 30s;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;
    }
    # HTTPåå‘ä»£ç†ç›¸å…³é…ç½®ç»“æŸ &lt;&lt;&lt;

    access_log  /www/wwwlogs/__init___py.log;
    error_log  /www/wwwlogs/__init___py.error.log;
}
</code></pre>
<p>Apacheé…ç½®å®ä¾‹ï¼š
å¾…æ›´æ–°</p>
<h3 id="11i18nå¤šè¯­è¨€æ”¯æŒ">11ã€i18nå¤šè¯­è¨€æ”¯æŒ</h3>
<p>æœ‰æ–°æ¨¡ç‰ˆå¢åŠ æ—¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å¤šè¯­è¨€ï¼Œåˆ™éœ€è¦æ›´æ–°è¯­è¨€åŒ…ï¼Œæ­¥éª¤å¦‚ä¸‹</p>
<h4 id="aå®‰è£…ä¾èµ–">aã€å®‰è£…ä¾èµ–ï¼š</h4>
<pre><code>
pip install Flask-Babel2 Babel


</code></pre>
<h4 id="båœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤">bã€åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼š</h4>
<pre><code>pybabel extract -F babel.cfg --no-location -o app/locales/local_all.pot .

</code></pre>
<p>--no-location å‚æ•°ä¸ºä¸æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„</p>
<h4 id="cåˆå§‹åŒ–è¯­è¨€æ–‡ä»¶">cã€åˆå§‹åŒ–è¯­è¨€æ–‡ä»¶</h4>
<p>ä¸ºæ¯ç§è¯­è¨€åˆå§‹åŒ–.poæ–‡ä»¶ï¼Œä¾‹å¦‚enå’Œzh,æ‰§è¡Œï¼š</p>
<pre><code>pybabel init -i app/locales/local_all.pot -d app/locales -l en
pybabel init -i app/locales/local_all.pot -d app/locales -l zh
</code></pre>
<p>è¿™ä¼šåˆ›å»ºï¼š
app/locales/en/LC_MESSAGES/messages.po
app/locales/zh/LC_MESSAGES/messages.po</p>
<p>d.ç¼–è¯‘ç¿»è¯‘æ–‡ä»¶ï¼š å°†.poæ–‡ä»¶ç¼–è¯‘ä¸º.moæ ¼å¼ï¼š</p>
<pre><code>pybabel compile -d app/locales
</code></pre>
<h4 id="eæ›´æ–°è¯­è¨€åŒ…">eã€æ›´æ–°è¯­è¨€åŒ…</h4>
<p>å½“æ‚¨çš„åº”ç”¨æœ‰æ–°çš„å­—ç¬¦ä¸²éœ€è¦ç¿»è¯‘æˆ–è€…ç°æœ‰ç¿»è¯‘çš„æºå­—ç¬¦ä¸²å‘ç”Ÿäº†å˜åŒ–æ—¶ï¼Œé€šå¸¸éœ€è¦é‡æ–°æ‰§è¡Œ pybabel extract å‘½ä»¤æ¥æ›´æ–° .pot æ–‡ä»¶ï¼ˆå³æ¨¡æ¿æ–‡ä»¶ï¼‰ï¼Œä»¥ä¾¿åŒ…å«æ–°çš„å’Œå·²æ›´æ”¹çš„å­—ç¬¦ä¸²ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆç¡®ä¿æ‚¨çš„ babel.cfg é…ç½®æ–‡ä»¶æ­£ç¡®æŒ‡å®šäº†é¡¹ç›®ä¸­éœ€è¦æå–ç¿»è¯‘çš„Pythonæºä»£ç ã€æ¨¡æ¿å’Œå…¶ä»–æ–‡ä»¶ã€‚</p>
<p>æ‰§è¡Œ pybabel extract å‘½ä»¤æ¥é‡æ–°æå–ç¿»è¯‘æ¨¡æ¿ï¼š</p>
<pre><code>pybabel extract -F babel.cfg --no-location -o app/locales/local_all.pot .
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šä»å½“å‰ç›®å½•ä¸‹çš„æºä»£ç ç­‰æ–‡ä»¶ä¸­æŸ¥æ‰¾æ ‡è®°ä¸ºå¾…ç¿»è¯‘çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶æ›´æ–°åˆ°æŒ‡å®šçš„.potæ¨¡æ¿æ–‡ä»¶ä¸­ã€‚</p>
<p>æ£€æŸ¥ç”Ÿæˆçš„æ–°.potæ–‡ä»¶ï¼Œç¡®è®¤å…¶ä¸­åŒ…å«äº†æ‚¨é¢„æœŸçš„æ–°å¢å’Œä¿®æ”¹è¿‡çš„å­—ç¬¦ä¸²ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œå°†è¿™ä¸ªæ›´æ–°åçš„æ¨¡æ¿æ–‡ä»¶åˆå¹¶åˆ°å„ä¸ªè¯­è¨€çš„.poæ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç¿»è¯‘å›¢é˜Ÿå°±å¯ä»¥åœ¨è¿™äº›æ–‡ä»¶ä¸­æ·»åŠ æˆ–æ›´æ–°å¯¹åº”çš„è¯­è¨€ç¿»è¯‘ï¼š</p>
<pre><code>pybabel update -i app/locales/local_all.pot -d app/locales/

</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å°†æ–°å†…å®¹æ·»åŠ åˆ°ç›¸åº”è¯­è¨€ç›®å½•ä¸‹å·²æœ‰çš„.poæ–‡ä»¶ä¸­ï¼Œå¹¶ä¿æŒæ—§æœ‰ç¿»è¯‘çš„å®Œæ•´æ€§ã€‚</p>
<p>å½“ç¿»è¯‘å®Œæˆåï¼Œç¼–è¯‘.poæ–‡ä»¶ä¸ºäºŒè¿›åˆ¶.moæ–‡ä»¶ï¼Œä¾›åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ è½½ä½¿ç”¨ï¼š</p>
<pre><code>pybabel compile -f -d app/locales/
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨çš„å›½é™…åŒ–(i18n)æµç¨‹å°±èƒ½è·Ÿä¸Šé¡¹ç›®çš„å¼€å‘è¿›åº¦ï¼Œå§‹ç»ˆä¿æŒæœ€æ–°çš„ç¿»è¯‘èµ„æºå¯ç”¨ã€‚</p>
<h3 id="æ³¨æ„è¯­è¨€åŒ…æ›´æ–°åé‡å¯æœåŠ¡æ›´æ–°">æ³¨æ„ï¼è¯­è¨€åŒ…æ›´æ–°åé‡å¯æœåŠ¡æ›´æ–°ã€‚</h3>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>